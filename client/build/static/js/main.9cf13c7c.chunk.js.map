{"version":3,"sources":["components/Searchform/index.js","utils/API.js","components/Savedresults/index.js","pages/Search.js","pages/Saved.js","components/Nav/index.js","components/Titlebox/index.js","App.js","registerServiceWorker.js","index.js"],"names":["Searchform","props","react_default","a","createElement","className","htmlFor","onChange","handleInputChange","value","search","name","type","placeholder","id","onClick","handleFormSubmit","API","searchBook","axios","get","deleteBook","delete","then","result","data","saveBook","bookData","post","savedBooks","Savedresults","state","handleSave","book","_this","map","_id","includes","deletedBook","setState","filter","catch","err","console","error","savedBook","concat","_this2","this","_this3","books","length","key","alt","title","src","image","authors","description","href","link","Component","Search","makeBook","volumeInfo","imageLinks","thumbnail","previewLink","query","res","items","event","target","Object","defineProperty","preventDefault","log","components_Searchform","components_Savedresults","React","Saved","Nav","Title","App","react_router_dom","components_Nav","Titlebox","react_router","exact","path","component","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","src_App_0","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.9cf13c7c.chunk.js","sourcesContent":["import React from \"react\";\n\nfunction Searchform(props) {\n    return (\n        <div className=\"container\">\n        <form>\n          <div className=\"form-group\">\n            <label htmlFor=\"search\"><h2>Search for and save Books of Interest</h2></label>\n            <input\n              onChange={props.handleInputChange}\n              value={props.search}\n              name=\"search\"\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search a Book\"\n              id=\"search\"\n            />\n            <button onClick={props.handleFormSubmit} className=\"btn btn-dark mt-3 mb-5\">\n              Search\n              </button>\n          </div>\n        </form>\n        </div>\n      );\n      }\n\nexport default Searchform","import axios from \"axios\";\nconst booksApi = \"https://www.googleapis.com/books/v1/volumes?q=\"\n\nexport default {\n  // Gets all books\n  searchBook: function (value) {\n    return axios.get(booksApi + value);\n  },\n  // Deletes the book with the given id\n  deleteBook: function (id) {\n    return axios.delete(\"/api/books/\" + id).then(result => result.data);\n  },\n  // Saves a book to the database\n  saveBook: function (bookData) {\n    return axios.post(\"/api/books\", bookData).then(result => result.data);\n  },\n  // Get a saved book from the database\n  savedBooks: function () {\n    return axios.get(\"/api/books\").then(result => result.data);\n  }\n\n};\n","import React, { Component } from 'react'\nimport API from \"../../utils/API\"\n\nclass Savedresults extends Component {\n\n    state = {\n        savedBooks: [],\n    }\n\n    componentDidMount() {\n        API.savedBooks()\n            .then(savedBooks => this.setState({ savedBooks: savedBooks }))\n            .catch(err => console.error(err));\n    }\n\n    handleSave = book => {\n        if (this.state.savedBooks.map(book => book._id).includes(book._id)) {\n            API.deleteBook(book.id)\n                .then(deletedBook => this.setState({ savedBooks: this.state.savedBooks.filter(book._id !== deletedBook._id) }))\n                .catch(err => console.error(err));\n        } else {\n            API.saveBook(book)\n                .then(savedBook => this.setState({ savedBooks: this.state.savedBooks.concat([savedBook]) }))\n                .catch(err => console.error(err));\n        }\n    }\n    render() {\n        return (\n            <div>\n                {!this.props.books.length ? (\n                    <h1 className=\"text-center\">No Results to Display</h1>\n                ) : (\n                        <div>\n                            {this.props.books.map(result => (\n                                <div key={result._id}>\n\n                                    <div>\n                                        <img alt={result.title} className=\"img-fluid\" src={result.image} />\n                                    </div>\n                                    <div>\n                                        <h5>{result.title} by {result.authors}</h5>\n                                        <p>{result.description}</p>\n                                    <div>\n                                        <a href={result.link}>View</a>\n                                        <button onClick={() => this.handleSave(result)} >\n                                                {this.state.savedBooks.map(book => book._id).includes(result._id) ? \"Unsave\" : \"Save\"}\n                                        </button>\n                                    </div>\n\n                                    </div>\n\n                                </div>\n                            ))}\n                        </div>\n                    )}\n            </div>\n        )\n    }\n}\n\nexport default Savedresults","import React from 'react';\nimport Searchform from \"../components/Searchform\";\nimport Savedresults from \"../components/Savedresults\";\nimport API from '../utils/API';\n\n\nclass Search extends React.Component {\n\n    state = {\n        value: \"\",\n        books: []\n    };\n\n    // componentDidMount(){\n    //     this.searchBook();\n    // }\n\n    makeBook = bookData => {\n        return {\n            _id: bookData.id,\n            title: bookData.volumeInfo.title,\n            authors: bookData.volumeInfo.authors,\n            description: bookData.volumeInfo.description,\n            image: bookData.volumeInfo.imageLinks.thumbnail,\n            link: bookData.volumeInfo.previewLink\n        }\n    }\n\n    searchBook = query => {\n        API.searchBook(query)\n        .then(res => this.setState({books: res.data.items.map(bookData => this.makeBook(bookData))}))\n        .catch(err => console.error(err));\n    }\n\n    handleInputChange = event => {\n        const name = event.target.name;\n        const value = event.target.value;\n        this.setState({\n            [name]: value\n        });\n        \n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.searchBook(this.state.search);\n        console.log(\"It Clicked\")\n        console.log(this.state.search)\n\n    };\n\n    render() {\n        return (\n            <div>\n                <Searchform\n                    search={this.state.search}\n                    handleInputChange={this.handleInputChange}\n                    handleFormSubmit= {this.handleFormSubmit}\n                    />\n                <div className=\"container\">\n                    <h2>Book Search Results</h2>\n                    <Savedresults books={this.state.books} />\n\n                </div>\n            </div>\n        )\n    }\n}\nexport default Search","import React, { Component } from 'react'\nimport Savedresults from '../components/Savedresults'\nimport API from '../utils/API'\n\n\nclass Saved extends Component {\n    state = {\n        savedBooks: [],\n    }\n\n    componentDidMount(){\n        API.savedBooks()\n        .then(savedBooks => this.setState({savedBooks: savedBooks}))\n        .catch(err => console.error(err));\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Saved Books</h2>\n                <Savedresults books={this.state.savedBooks} />\n            </div>\n        )\n    }\n}\nexport default Saved","import React from \"react\";\n\nfunction Nav() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <a className=\"navbar-brand\" href=\"/\">\n        Google-Books Search\n      </a>\n      \n      <a className=\"navbar-search\" href=\"/\">\n        Search\n      </a>\n      <a className=\"navbar-saved\" href=\"/saved\">\n        Saved\n      </a>\n\n    </nav>\n  );\n}\n\nexport default Nav;\n","import React from \"react\";\n\nfunction Title() {\n  return (\n    \n    <div className=\"jumbotron text-center\">\n      <h1>(React) Google Books Search</h1>\n      <h3>\n        Search for and Save Books of Interest\n      </h3>\n\n    </div>\n  );\n}\n\nexport default Title;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Search from \"./pages/Search\";\nimport Saved from \"./pages/Saved\";\nimport {BrowserRouter as Router, Route} from \"react-router-dom\"\nimport Nav from \"./components/Nav\"\nimport Title from \"./components/Titlebox\"\n\nclass App extends Component {\n  render() {\n    return (\n      \n      <Router>\n      <div className=\"container\">\n      <Nav />\n      <Title />\n        <Route exact path=\"/\" component={Search} />\n        <Route exact path=\"/search\" component={Search} />\n        <Route exact path=\"/saved\" component={Saved} />\n       </div> \n       </Router>\n      \n    \n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import 'bootstrap/dist/css/bootstrap.css';\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nregisterServiceWorker();\n"],"sourceRoot":""}